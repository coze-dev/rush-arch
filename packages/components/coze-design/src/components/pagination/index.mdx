import {
  Canvas,
  Meta,
  Title,
  Subtitle,
  Description,
  Primary,
  Controls,
  Stories,
  Story,
  CodeOrSourceMdx,
} from '@storybook/blocks';

import * as PaginationStories from './stories/pagination.stories';

<Meta of={PaginationStories} name="Docs" />

# COZPagination

> COZPagination, 基于semi的Pagination封装实现 —— [API参考](https://semi.design/zh-CN/navigation/pagination)

- [组件引入](#组件引入)
- [交互预览](#交互预览)
- [基础用法](#基础用法)
- [尺寸配置](#尺寸配置)
- [显示总数](#显示总数)
- [快速跳转](#快速跳转)
- [Props](#props)
- [Types](#types)

<b>

注意：CozePagination组件支持layout属性和size属性，其中layout属性控制默认展示还是简单展示（与semi的size为small时样式一致），size属性控制分页器大小

</b>

## 组件引入

可从 `@coze-arch/coze-design` 中引入 `CozPagination` 组件，参考如下：

```tsx
import { CozPagination } from '@coze-arch/coze-design';
```

## 交互预览

`CozPagination` 组件提供了分页功能，可通过调整Control参数来预览。

<Canvas of={PaginationStories.Default} />

<Controls />

## 基础使用

最基础的分页器用法。

<Story of={PaginationStories.Basic} />

```tsx
import { CozPagination } from '@coze-arch/coze-design';

<CozPagination
  total={100}
  currentPage={1}
  pageSize={10}
  onChange={(page, pageSize) => console.log(page, pageSize)}
/>;
```

## 尺寸配置

分页器支持 `small` 和 `default` 两种尺寸。

<Story of={PaginationStories.Sizes} />

```tsx
import { CozPagination } from '@coze-arch/coze-design';

<View>
  <CozPagination size="default" total={100} />
  <CozPagination size="small" total={100} />
</View
```

## 显示总数

通过设置 `showTotal` 展示总条目数。

<Story of={PaginationStories.ShowTotal} />

```tsx
import { Pagination } from '@coze-arch/coze-design';

<CozPagination
  total={100}
  showTotal={true}
  totalText={(total, range) => `${range[0]}-${range[1]} of ${total} items`}
/>;
```

## 快速跳转

通过设置 `showQuickJumper` 可以快速跳转到指定页码。支持与其他功能组合使用。

<Story of={PaginationStories.QuickJump} />

```tsx
import { CozPagination } from '@coze-arch/coze-design';

// 基础快速跳转
<CozPagination
  total={100}
  showQuickJumper
/>

// 结合总数显示的快速跳转
<CozPagination
  total={100}
  showQuickJumper
  showTotal
/>
```

## Props

所有semi的分页器属性都可以在`COZPagination`组件上使用，此外还支持以下属性：

| Prop            | Type                                       | Description            | Default   |
| :-------------- | :----------------------------------------- | :--------------------- | :-------- |
| currentPage     | `number`                                   | 当前页码               | 1         |
| pageSize        | `number`                                   | 每页条数               | 10        |
| total           | `number`                                   | 数据总数               | 0         |
| onChange        | `(page: number, pageSize: number) => void` | 页码改变的回调         | -         |
| showSizeChanger | `boolean`                                  | 是否显示每页条数选择器 | false     |
| disabled        | `boolean`                                  | 是否禁用               | false     |
| size            | `'default' \| 'small'`                     | 分页器大小             | 'default' |
| simple          | `boolean`                                  | 是否使用简单模式       | false     |
| showTotal       | `boolean`                                  | 是否显示总数           | false     |
| showQuickJumper | `boolean`                                  | 是否可以快速跳转至某页 | false     |

## Types

Pagination扩展类型参考如下：

```tsx
export interface PaginationProps extends HTMLAttributes<HTMLDivElement> {
  /**
   * 当前页码
   */
  currentPage?: number;
  /**
   * 每页条数
   */
  pageSize?: number;
  /**
   * 数据总数
   */
  total?: number;
  /**
   * 页码改变时的回调
   */
  onChange?: (currentPage: number, pageSize: number) => void;
  /**
   * 是否显示每页条数选择器
   */
  showSizeChanger?: boolean;
  /**
   * 自定义类名
   */
  className?: string;
  /**
   * 是否禁用
   */
  disabled?: boolean;
  /**
   * 分页器大小
   */
  size?: 'default' | 'small';
  /**
   * 分页器大小
   */
  layout?: 'default' | 'simple';
  /**
   * 是否使用简单模式
   */
  simple?: boolean;
  /**
   * 是否显示总数
   */
  showTotal?: boolean;
  /**
   * 用于格式化显示总数的文本
   */
  totalText?: (total: number, range: [number, number]) => string;
  /**
   * 是否可以快速跳转至某页
   */
  showQuickJumper?: boolean;
  /**
   * 每页条数选项列表
   */
  pageSizeOpts?: number[];
}
```
