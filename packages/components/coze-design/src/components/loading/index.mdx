import { Canvas, Meta, Controls, Story  } from '@storybook/blocks';

import * as LoadingStories from './stories/loading.stories';

<Meta of={LoadingStories} name="Docs" />

# COZLoading

> COZ加载器, 基于semi的Spin封装实现，同时导出semi的Spin可继续使用   —— [API参考](https://semi.design/zh-CN/feedback/spin)

- [组件引入](#组件引入)
- [交互预览](#交互预览)
- [尺寸 (size)](#尺寸)
- [色彩 (color)](#色彩)
- [提示 (label)](#提示)
- [Props](#props)
- [Types](#types)

## 组件引入
可从 `@coze-arch/coze-design` 中引入 `Loading` 组件，参考如下：

```tsx
import { Loading } from '@coze-arch/coze-design';
```

## 交互预览
`Loading` 组件支持如下属性配置，需开启`loading=true`显示，包含有: `loading`, `size`, `color` 和 `labelSize`，可通过调整Control参数来预览。

<Canvas of={LoadingStories.Default} />

<Controls  />

## 尺寸
> `Loading` 组件支持四种预设尺寸，包含有: `mini`, `small`，`middle` 和 `large`

- **mini** ：`size: 14px`，多用在button、input、textarea 等有加载态的组件内部；
- **small** ：`size: 20px`，默认尺寸，用在一般有加载提示场景，对应semi的middle；
- **middle** ：`size: 24px`，中号尺寸，用在需要有明显加载提示的场景；
- **large** ：`size: 32px`，大号尺寸，用在配置mask或加载内容浮层上使用。

<Story of={LoadingStories.Size} />

```tsx
import { Loading } from '@coze-arch/coze-design';

<Loading size='mini' loading={true} />
<Loading size='small' loading={true} />
<Loading size='middle' loading={true} />
<Loading size='large' loading={true} />
```

## 色彩
> `Loading` 组件支持四种预设色彩，包含有: `default`, `blue`，`red` 和 `green`

- **default** ：对应token为 `coz-fg-secondary`；
- **blue** ：对应token为 `coz-fg-hglt`；
- **green** ：对应token为 `coz-fg-hglt-green`；
- **red** ：对应token为 `coz-fg-hglt-red`；

<Story of={LoadingStories.Color} />

```tsx
import { Loading } from '@coze-arch/coze-design';

<Loading size='default' loading={true} />
<Loading size='blue' loading={true} />
<Loading size='green' loading={true} />
<Loading size='red' loading={true} />
```

## 提示
> `Loading` 可通过`label` 和 `labelSize` 进行提示文字自定义

- **label** ：自定义提示文字；
- **labelSize** ：自定义提示文字的字号，分为：`small`, `normal`、`middle` 和 `large`；

<Story of={LoadingStories.Label} />

```tsx
import { Loading } from '@coze-arch/coze-design';

<Loading label='正在加载中' labelSize='small' loading={true} />
<Loading label='正在加载中' labelSize='normal' loading={true} />
<Loading label='正在加载中' labelSize='middle' loading={true} />
<Loading label='正在加载中' labelSize='large' loading={true} />
```
> 注：因Semi的Spin组件会通过`tip`属性设置当`Spin`用作包裹元素时的文字，故需要在`Spin`下传入children节点才能让文字布局撑开，参考如下：

```tsx
<Loading {...args} label={<span>正在加载中</span>} className="flex">
    {/*即使没有内容也必须传入children节点*/}
    {/*semi会根据children内容自动追加增加 .semi-spin-block 样式撑开文字*/}
    <span/>
</Loading>
```

## Props
semi`Spin`的大部分属性都可以在`COZLoading`组件上使用，此外还支持以下属性：

| Prop      | Type           | Description            | Default   |
|:----------|:---------------|:-----------------------|:----------|
| loading   | `boolean`      | Sets the loading state | `true`    |
| size      | `LoadingSize`  | Sets the size          | `middle`  |
| color     | `LoadingColor` | Sets the color         | `default` |
| labelSize | `LoadingColor` | Sets the color         | `small`   |
| label     | `string`       | Sets the tip text      |           |
| className | `string`       | Sets the css class     |           |

## Types
COZLoading扩展类型参考如下：

```tsx
export type LoadingSize = 'mini' | 'small' | 'middle' | 'large';
```

```tsx
export type LoadingLabelSize = 'small' | 'normal' | 'middle' | 'large';
```

```tsx
export type LoadingColor = 'default' | 'blue' | 'red' | 'green';
```
