import { Canvas, Meta, Controls, Story } from '@storybook/blocks';

import * as TabBarStories from './stories/tab-bar.stories';

<Meta of={ TabBarStories } name="Docs" />

# COZTabBar

> COZTabBar, 基于semi的Tabs封装实现    —— [API参考](https://semi.design/zh-CN/navigation/tabs)

- [组件引入](#组件引入)
- [交互预览](#交互预览)
- [模式 (mode)](#模式)
- [类型 (type)](#类型)
- [对齐 (align)](#对齐)
- [Props](#props)
- [Types](#types)

## 组件引入
可从 `@coze-arch/coze-design` 中引入 `TabBar` 组件，参考如下：

```tsx
import { TabBar } from '@coze-arch/coze-design';

const { TabPanel } = Tabar;
```

## 交互预览
`TabBar` 组件支持如下基础属性配置，包含有: `mode`, `type`, `align`，可通过调整Control参数来预览。

<Canvas of={TabBarStories.Default} />

<Controls  />


## 模式
> `TabBar` 组件支持两种预设模式，包含有: `tab` 和 `select`，默认为`tab`。

- **tab** ：选项卡模式，只做显示切换，可不配置回调事件和选中key值。

<Story of={TabBarStories.Tab} />

```tsx
import { TabBar, Badge } from '@coze-arch/coze-design';
const { TabPanel } = TabBar;

<TabBar mode='tab'>
  <TabPanel tab="我的" itemKey="tab1">
    我的
  </TabPanel>
  <TabPanel tab="插件" itemKey="2">
    插件
  </TabPanel>
  <TabPanel tab="工作流" itemKey="3">
    工作流
  </TabPanel>
  <TabPanel
      tab={
        <div className="relative">
          <Badge
            type="success"
            count="beta"
            style={{ right: -6, top: -6 }}
          >
            <span>社会场景</span>
          </Badge>
        </div>
      }
      itemKey="7"
    >
    社会场景
  </TabPanel>
</TabBar>
```

- **select** ：单选模式，会隐藏TabPanel，作用类似checkbox的单选卡片模式，可配置回调事件(onTabClick)和选中key值(activeKey)。

<Story of={TabBarStories.Select} />

```tsx
import { useState } from 'react';
import { TabBar } from '@coze-arch/coze-design';
const { TabPanel } = TabBar;

const [tabKey, setTabKey] = useState('效率工具');
const handleOnClick = (key: string) => {
  setTabKey(key);
};

<div>
  <TabBar
      type="button"
      mode="select"
      activeKey={tabKey}
      defaultActiveKey='效率工具'
      onTabClick={handleOnClick}
  >
      <TabPanel tab="效率工具" itemKey="效率工具"/>
      <TabPanel tab="商务服务" itemKey="商务服务"/>
      <TabPanel tab="文本创作" itemKey="文本创作"/>
      <TabPanel tab="学习教育" itemKey="学习教育"/>
      <TabPanel tab="代码助手" itemKey="代码助手"/>
      <TabPanel tab="生活方式" itemKey="生活方式"/>
  </TabBar>
  <div className="flex py-8px">
    <div className="coz-fg-primary text-lg">已选中: {tabKey}</div>
  </div>
</div>
```

## 类型
> `TabBar` 组件支持两种预设模式，包含有: `button` 和 `text`，默认为`button`。

- **button** ：按钮模式，选项卡使用`button`样式。
- **text** ：文本模式，选项卡使用`text`样式，对应semi tabs中的`line`属性。

<Story of={TabBarStories.Type} />

```tsx
import { TabBar } from '@coze-arch/coze-design';
const { TabPanel } = TabBar;

<TabBar align="left" type='text'>
  <TabPanel tab="我的" itemKey="1">
    我的
  </TabPanel>
  <TabPanel tab="插件" itemKey="2">
    插件
  </TabPanel>
  <TabPanel tab="工作流" itemKey="3">
    工作流
  </TabPanel>
  <TabPanel tab="图像流" itemKey="4">
    图像流
  </TabPanel>
  <TabPanel tab="知识库" itemKey="5">
    知识库
  </TabPanel>
  <TabPanel tab="卡片" itemKey="6">
    卡片
  </TabPanel>
</TabBar>
```

## 对齐
> `TabBar` 组件支持三种对齐模式，包含有: `left`, `center` 和 `right`，默认为`left`。

<Story of={TabBarStories.Align} />

```tsx
import { TabBar } from '@coze-arch/coze-design';
const { TabPanel } = TabBar;

<TabBar align="left" type='text'>
  <TabPanel tab="我的" itemKey="1">
    我的
  </TabPanel>
  <TabPanel tab="插件" itemKey="2">
    插件
  </TabPanel>
  <TabPanel tab="工作流" itemKey="3">
    工作流
  </TabPanel>
  <TabPanel tab="图像流" itemKey="4">
    图像流
  </TabPanel>
  <TabPanel tab="知识库" itemKey="5">
    知识库
  </TabPanel>
  <TabPanel tab="卡片" itemKey="6">
    卡片
  </TabPanel>
</TabBar>
```

## Props
`COZTabBar` 整体上兼容semi的`tabs`属性使用，详见如下内容：

| Prop  | Type                          | Description        | Default  |
|:------|:------------------------------|:-------------------|:---------|
| mode  | `tab` or `select`             | Sets the tab mode  | `tab`    |
| type  | `button` or `text`            | Sets the tab type  | `button` |
| align | `left` or `center` or `right` | Sets the tab align | `left`   |



## Types
COZTabBar扩展类型参考如下：

```tsx
export interface TabsProps
  extends Omit<SemiTabsProps, 'type'> {
  mode?: 'tab' | 'select';
  type?: 'button' | 'text';
  align?: 'left' | 'center' | 'right';
}
````

```tsx
export interface TabsBarProps extends SemiTabTabBarProps {}

```

```tsx
export interface TabsPaneProps extends SemiTabPaneProps {}
```
